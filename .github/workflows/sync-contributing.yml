name: Sync CONTRIBUTING.md

on:
  schedule:
    - cron: '0 0 * * 1'
  workflow_dispatch:

jobs:
  sync:
    runs-on: ubuntu-latest
    env:
      GIST_USERNAME: shikendon
      GIST_ID: 2f6c3d48bba357bd094ca87ca5817802
    steps:
      - uses: actions/checkout@v5

      - name: Download latest CONTRIBUTING.md
        run: |
          curl -fsSL "https://gist.githubusercontent.com/${GIST_USERNAME}/${GIST_ID}/raw/CONTRIBUTING.md" \
            -o CONTRIBUTING.md

      - name: Create Pull Request
        uses: peter-evans/create-pull-request@v7
        with:
          commit-message: "chore: sync CONTRIBUTING.md from gist"
          title: "Update CONTRIBUTING.md"
          branch: sync-contributing
